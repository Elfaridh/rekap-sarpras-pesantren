<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Inventaris Aset | Rekap Sarpras Pesantren</title>
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <header class="app-header">
    <div class="brand-row">
      <img class="brand-logo" src="icons/logo-da-ibs.svg" alt="Logo Daarul Amiin IBS">
      <div class="brand">
        <h1>Inventaris Aset</h1>
        <p class="brand-meta">Daarul Amiin IBS</p>
        <p>Catat nama aset, kondisi, lokasi, jumlah, dan foto.</p>
      </div>
    </div>
    <div class="user-info">
      <span id="userInfo">Memuat pengguna...</span>
      <button id="logoutBtn" class="btn-secondary">Keluar</button>
    </div>
  </header>

  <nav class="app-nav">
    <a href="index.html">Dashboard</a>
    <a href="lokasi.html">Lokasi</a>
    <a class="active" href="aset.html">Aset</a>
    <a href="pemeliharaan.html">Pemeliharaan</a>
    <a href="mutasi.html">Mutasi</a>
    <a href="laporan.html">Laporan</a>
  </nav>

  <main>
    <section class="card">
      <h2>Tambah / Edit Aset</h2>
      <form id="asetForm" class="grid">
        <div>
          <label class="label" for="namaAset">Nama Aset</label>
          <input id="namaAset" placeholder="Contoh: Lemari Pakaian" required>
        </div>
        <div>
          <label class="label" for="lokasiAset">Lokasi</label>
          <select id="lokasiAset" required></select>
        </div>
        <div>
          <label class="label" for="kategoriAset">Kategori</label>
          <select id="kategoriAset" required>
            <option value="Mebel">Mebel</option>
            <option value="Elektronik">Elektronik</option>
            <option value="Bangunan">Bangunan</option>
            <option value="Alat Ibadah">Alat Ibadah</option>
            <option value="IT">IT</option>
            <option value="Lainnya">Lainnya</option>
          </select>
        </div>
        <div>
          <label class="label" for="kondisiAset">Kondisi</label>
          <select id="kondisiAset" required>
            <option value="Baik">Baik</option>
            <option value="Rusak">Rusak</option>
            <option value="Rusak Berat">Rusak Berat</option>
          </select>
        </div>
        <div>
          <label class="label" for="jumlahAset">Jumlah</label>
          <input id="jumlahAset" type="number" min="1" value="1" required>
        </div>
        <div>
          <label class="label" for="tahunAset">Tahun Perolehan</label>
          <input id="tahunAset" type="number" min="1990" max="2100" placeholder="2024" required>
        </div>
        <div>
          <label class="label" for="fotoAset">Foto Aset (offline)</label>
          <input id="fotoAset" type="file" accept="image/*">
          <img id="previewFoto" alt="Preview" style="margin-top:10px; display:none;" />
        </div>
        <div class="action-group">
          <button type="submit" class="btn-primary">Simpan Aset</button>
          <button type="button" id="resetAset" class="btn-secondary">Batal</button>
        </div>
      </form>
      <p id="asetMessage" class="muted"></p>
    </section>

    <section class="card">
      <h2>Filter & Pencarian</h2>
      <div class="grid grid-3">
        <div>
          <label class="label" for="cariAset">Cari Nama</label>
          <input id="cariAset" placeholder="Cari aset...">
        </div>
        <div>
          <label class="label" for="filterLokasi">Lokasi</label>
          <select id="filterLokasi"></select>
        </div>
        <div>
          <label class="label" for="filterKategori">Kategori</label>
          <select id="filterKategori">
            <option value="">Semua</option>
            <option value="Mebel">Mebel</option>
            <option value="Elektronik">Elektronik</option>
            <option value="Bangunan">Bangunan</option>
            <option value="Alat Ibadah">Alat Ibadah</option>
            <option value="IT">IT</option>
            <option value="Lainnya">Lainnya</option>
          </select>
        </div>
        <div>
          <label class="label" for="filterKondisi">Kondisi</label>
          <select id="filterKondisi">
            <option value="">Semua</option>
            <option value="Baik">Baik</option>
            <option value="Rusak">Rusak</option>
            <option value="Rusak Berat">Rusak Berat</option>
          </select>
        </div>
      </div>
    </section>

    <section class="card">
      <h2>Daftar Aset</h2>
      <table class="table">
        <thead>
          <tr>
            <th>Foto</th>
            <th>Nama</th>
            <th>Lokasi</th>
            <th>Kategori</th>
            <th>Kondisi</th>
            <th>Jumlah</th>
            <th>Aksi</th>
          </tr>
        </thead>
        <tbody id="asetTable"></tbody>
      </table>
    </section>
  </main>

  <footer class="footer">Pastikan data selalu diperbarui setelah mutasi atau perawatan.</footer>

  <script src="js/db.js"></script>
  <script src="js/auth.js"></script>
  <script src="js/aset.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
